{"ast":null,"code":"import _defineProperty from \"/Users/maksimzajcev/Desktop/Work/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/maksimzajcev/Desktop/Work/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/maksimzajcev/Desktop/Work/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/maksimzajcev/Desktop/Work/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/maksimzajcev/Desktop/Work/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/maksimzajcev/Desktop/Work/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/maksimzajcev/Desktop/Work/src/components/React.objects.add.js\";\nimport React from 'react';\nimport '../css/main.css';\n\nvar AddObjects =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(AddObjects, _React$Component);\n\n  function AddObjects(props) {\n    var _this;\n\n    _classCallCheck(this, AddObjects);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AddObjects).call(this, props));\n\n    _this.addClick = function (event) {\n      var inputsValid = _this.checkInputs();\n\n      if (!inputsValid) {\n        var newObjectId = _this.getRandomObjectId();\n\n        _this.props.add(newObjectId, _this.state.title, _this.state.person, _this.state.active, [_this.state.green, _this.state.yellow, _this.state.red], _this.state.link);\n\n        _this.setState({\n          title: '',\n          person: '',\n          active: 'Выбрать..',\n          green: '',\n          yellow: '',\n          red: '',\n          link: ''\n        });\n      } else {\n        event.preventDefault();\n      }\n    };\n\n    _this.handleInputChange = function (event) {\n      var target = event.target;\n      var value = target.value;\n      var name = target.name;\n\n      _this.setState(_defineProperty({}, name, value));\n    };\n\n    _this.state = {\n      title: '',\n      person: '',\n      active: 'Выбрать..',\n      green: '',\n      yellow: '',\n      red: '',\n      link: ''\n    };\n    return _this;\n  }\n\n  _createClass(AddObjects, [{\n    key: \"getRandomObjectId\",\n    value: function getRandomObjectId() {\n      var unUniqueId = true;\n      var currentObjects = this.props.currentObjects;\n\n      do {\n        var rand = 1000 - 0.5 + Math.random() * (9999 - 1000 + 1);\n        var newId = Math.round(rand);\n        unUniqueId = false;\n\n        for (var i = 0; i < currentObjects.length; i++) {\n          if (currentObjects[i].id == newId) {\n            unUniqueId = true;\n          }\n        }\n      } while (unUniqueId);\n\n      return newId;\n    }\n  }, {\n    key: \"checkInputs\",\n    value: function checkInputs() {\n      var reqInputs = document.querySelectorAll('.req');\n      var error = false;\n\n      for (var i = 0; i < reqInputs.length; i++) {\n        if (reqInputs[i].value === '') {\n          reqInputs[i].classList.remove('normal-input');\n          reqInputs[i].previousSibling.classList.remove('normal-label');\n          reqInputs[i].classList.add('error-input');\n          reqInputs[i].previousSibling.classList.add('error-label');\n          error = true;\n        }\n      }\n\n      return error;\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var inputs = document.querySelectorAll('.objects__input');\n\n      for (var i = 0; i < inputs.length; i++) {\n        inputs[i].onfocus = function () {\n          this.classList.remove('normal-input');\n          this.previousSibling.classList.remove('normal-label');\n          this.classList.remove('error-input');\n          this.previousSibling.classList.remove('error-label');\n          this.classList.add('active-input');\n          this.previousSibling.classList.add('active-label');\n        };\n      }\n\n      for (var _i = 0; _i < inputs.length; _i++) {\n        inputs[_i].onblur = function () {\n          this.classList.remove('active-input');\n          this.previousSibling.classList.remove('active-label');\n          this.classList.add('normal-input');\n          this.previousSibling.classList.add('normal-label');\n        };\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"form\", {\n        className: \"objects__form\",\n        id: \"send__form\",\n        method: \"post\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"objects__node\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        class: \"objects__label\",\n        for: \"name\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, \"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435\"), React.createElement(\"input\", {\n        type: \"text\",\n        className: \"objects__input req normal-input\",\n        name: \"title\",\n        value: this.state.title,\n        placeholder: \"\\u0425\\u0440\\u0430\\u043D\\u0435\\u043D\\u0438\\u0435 \\u0433\\u0430\\u0437\\u0430\",\n        onChange: this.handleInputChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"addbar__node\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        class: \"addbar__label\",\n        for: \"person\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, \"\\u041E\\u0442\\u0432\\u0435\\u0442\\u0441\\u0442\\u0432\\u0435\\u043D\\u043D\\u044B\\u0439\"), React.createElement(\"input\", {\n        type: \"text\",\n        className: \"addbar__input req normal-input\",\n        name: \"person\",\n        value: this.state.person,\n        placeholder: \"\\u0414\\u0435\\u043F\\u0430\\u0440\\u0442\\u0430\\u043C\\u0435\\u043D\\u0442 313\",\n        onChange: this.handleInputChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"objects__node\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        class: \"objects__label\",\n        for: \"active\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, \"\\u0421\\u043E\\u0441\\u0442\\u043E\\u044F\\u043D\\u0438\\u0435\"), React.createElement(\"select\", {\n        className: \"objects__input req normal-input\",\n        name: \"active\",\n        value: this.state.active,\n        onChange: this.handleInputChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        value: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, \"\\u0412\\u044B\\u0431\\u0440\\u0430\\u0442\\u044C..\"), React.createElement(\"option\", {\n        value: \"1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, \"\\u0412\\u043A\\u043B\\u044E\\u0447\\u0435\\u043D\"), React.createElement(\"option\", {\n        value: \"0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, \"\\u0412\\u044B\\u043A\\u043B\\u044E\\u0447\\u0435\\u043D\"))), React.createElement(\"div\", {\n        className: \"objects__node\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        class: \"objects__label\",\n        for: \"green\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, \"\\u0417\\u0435\\u043B\\u0435\\u043D\\u044B\\u0439\"), React.createElement(\"input\", {\n        type: \"text\",\n        className: \"objects__input req normal-input\",\n        name: \"green\",\n        value: this.state.green,\n        placeholder: \"31\",\n        onChange: this.handleInputChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"objects__node\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        class: \"objects__label\",\n        for: \"yellow\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, \"\\u0416\\u0435\\u043B\\u0442\\u044B\\u0439\"), React.createElement(\"input\", {\n        type: \"text\",\n        className: \"objects__input req normal-input\",\n        name: \"yellow\",\n        value: this.state.yellow,\n        placeholder: \"58\",\n        onChange: this.handleInputChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"objects__node\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        class: \"objects__label\",\n        for: \"red\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, \"\\u041A\\u0440\\u0430\\u0441\\u043D\\u044B\\u0439\"), React.createElement(\"input\", {\n        type: \"text\",\n        className: \"objects__input req normal-input\",\n        name: \"red\",\n        value: this.state.red,\n        placeholder: \"74\",\n        onChange: this.handleInputChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"addbar__node\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        class: \"addbar__label\",\n        for: \"link\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, \"\\u0410\\u0434\\u0440\\u0435\\u0441\"), React.createElement(\"input\", {\n        type: \"text\",\n        className: \"addbar__input req normal-input\",\n        name: \"link\",\n        value: this.state.link,\n        placeholder: \"/link\",\n        onChange: this.handleInputChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      })), React.createElement(\"input\", {\n        type: \"button\",\n        className: \"addbar__button\",\n        onClick: this.addClick,\n        value: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return AddObjects;\n}(React.Component);\n\nexport default AddObjects;","map":{"version":3,"sources":["/Users/maksimzajcev/Desktop/Work/src/components/React.objects.add.js"],"names":["React","AddObjects","props","addClick","event","inputsValid","checkInputs","newObjectId","getRandomObjectId","add","state","title","person","active","green","yellow","red","link","setState","preventDefault","handleInputChange","target","value","name","unUniqueId","currentObjects","rand","Math","random","newId","round","i","length","id","reqInputs","document","querySelectorAll","error","classList","remove","previousSibling","inputs","onfocus","onblur","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport '../css/main.css';\n\nclass AddObjects extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            title: '',\n            person: '',\n            active: 'Выбрать..',\n            green: '',\n            yellow: '',\n            red: '',\n            link: ''\n        };\n    }\n\n    addClick = (event) => {\n        let inputsValid = this.checkInputs();\n\n        if (!inputsValid) {\n            let newObjectId = this.getRandomObjectId();\n\n            this.props.add(newObjectId, this.state.title, this.state.person, this.state.active, [this.state.green, this.state.yellow, this.state.red], this.state.link);\n\n            this.setState({\n                title: '',\n                person: '',\n                active: 'Выбрать..',\n                green: '',\n                yellow: '',\n                red: '',\n                link: ''\n            });\n        } else {\n            event.preventDefault();\n        }\n    }\n\n    handleInputChange = (event) => {\n        const target = event.target;\n        const value = target.value;\n        const name = target.name;\n    \n        this.setState({\n            [name]: value\n        });\n    }\n\n    getRandomObjectId() {\n        var unUniqueId = true;\n        var currentObjects = this.props.currentObjects;\n        do {\n            var rand = 1000 - 0.5 + Math.random() * (9999 - 1000 + 1)\n            var newId = Math.round(rand);\n            unUniqueId = false;\n\n            for (let i = 0; i < currentObjects.length; i++) {\n                if (currentObjects[i].id == newId) {\n                    unUniqueId = true;\n                }\n            }\n        } while (unUniqueId);\n\n        return newId;\n    }\n\n    checkInputs() {\n        var reqInputs = document.querySelectorAll('.req');\n        var error = false;\n\n        for (let i = 0; i < reqInputs.length; i++) {\n            if (reqInputs[i].value === '') {\n                reqInputs[i].classList.remove('normal-input');\n                reqInputs[i].previousSibling.classList.remove('normal-label');\n                reqInputs[i].classList.add('error-input');\n                reqInputs[i].previousSibling.classList.add('error-label');\n                error = true;\n            } \n        }\n        \n        return error;\n    }\n\n    componentDidMount() {\n        var inputs = document.querySelectorAll('.objects__input');\n\n        for (let i = 0; i < inputs.length; i++) {\n            inputs[i].onfocus = function() {\n                this.classList.remove('normal-input');\n                this.previousSibling.classList.remove('normal-label');\n                this.classList.remove('error-input');\n                this.previousSibling.classList.remove('error-label');\n                this.classList.add('active-input');\n                this.previousSibling.classList.add('active-label');\n            }\n        }\n\n        for (let i = 0; i < inputs.length; i++) {\n            inputs[i].onblur = function() {\n                this.classList.remove('active-input');\n                this.previousSibling.classList.remove('active-label');\n                this.classList.add('normal-input');\n                this.previousSibling.classList.add('normal-label');\n            } \n        }\n    }\n\n    render() {\n        return (\n            <form className=\"objects__form\" id=\"send__form\" method=\"post\">\n                <div className=\"objects__node\">\n                    <label class=\"objects__label\" for=\"name\">Название</label>\n                    <input type=\"text\" className=\"objects__input req normal-input\" name=\"title\" value={this.state.title} placeholder=\"Хранение газа\" onChange={this.handleInputChange} />\n                </div>\n                <div className=\"addbar__node\">\n                    <label class=\"addbar__label\" for=\"person\">Ответственный</label>\n                    <input type=\"text\" className=\"addbar__input req normal-input\" name=\"person\" value={this.state.person} placeholder=\"Департамент 313\" onChange={this.handleInputChange} />\n                </div>\n                <div className=\"objects__node\">\n                    <label class=\"objects__label\" for=\"active\">Состояние</label>\n                    <select className=\"objects__input req normal-input\" name=\"active\" value={this.state.active} onChange={this.handleInputChange}>\n                        <option value=\"\">Выбрать..</option>\n                        <option value=\"1\">Включен</option>\n                        <option value=\"0\">Выключен</option>\n                    </select>\n                </div>\n                <div className=\"objects__node\">\n                    <label class=\"objects__label\" for=\"green\">Зеленый</label>\n                    <input type=\"text\" className=\"objects__input req normal-input\" name=\"green\" value={this.state.green} placeholder=\"31\" onChange={this.handleInputChange} />\n                </div>\n                <div className=\"objects__node\">\n                    <label class=\"objects__label\" for=\"yellow\">Желтый</label>\n                    <input type=\"text\" className=\"objects__input req normal-input\" name=\"yellow\" value={this.state.yellow} placeholder=\"58\" onChange={this.handleInputChange} />\n                </div>\n                <div className=\"objects__node\">\n                    <label class=\"objects__label\" for=\"red\">Красный</label>\n                    <input type=\"text\" className=\"objects__input req normal-input\" name=\"red\" value={this.state.red} placeholder=\"74\" onChange={this.handleInputChange} />\n                </div>\n                <div className=\"addbar__node\">\n                    <label class=\"addbar__label\" for=\"link\">Адрес</label>\n                    <input type=\"text\" className=\"addbar__input req normal-input\" name=\"link\" value={this.state.link} placeholder=\"/link\" onChange={this.handleInputChange} />\n                </div>\n                <input type=\"button\" className=\"addbar__button\" onClick={this.addClick} value=\"Добавить\" />\n            </form>\n        );\n    }\n}\n\nexport default AddObjects;"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _classCallCheck from \"/Users/maksimzajcev/Desktop/Work/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/maksimzajcev/Desktop/Work/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/maksimzajcev/Desktop/Work/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/maksimzajcev/Desktop/Work/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/maksimzajcev/Desktop/Work/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/maksimzajcev/Desktop/Work/src/components/React.reports.js\";\nimport React from 'react';\nimport dataLoad from '../models/dataLoad';\nimport Navigation from './React.nav';\nimport Loader from './React.loader';\nimport moment from 'moment';\nimport ReportsWorkspace from './React.reports.workspace';\nimport '../css/main.css';\nvar COLORS = ['#4461c2', '#16a65e', '#85d357', '#ffdc45', '#ff4716', '#6ab4ec', '#b63dbc', '#fdaa19', '#fcacfd', '#8e8cd8'];\n\nvar Reports =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Reports, _React$Component);\n\n  function Reports(props) {\n    var _this;\n\n    _classCallCheck(this, Reports);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Reports).call(this, props));\n    _this.state = {\n      chartReports: [],\n      startDate: '',\n      finishDate: '',\n      loading: false,\n      settingPeriod: moment(new Date()).format('MM.YYYY')\n    };\n    return _this;\n  }\n\n  _createClass(Reports, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      this.loadData();\n    }\n  }, {\n    key: \"loadData\",\n    value: function loadData() {\n      var _this2 = this;\n\n      var urlLogs = 'http://localhost:3000/logs';\n      var usersLogs;\n      dataLoad(urlLogs).then(function (logs) {\n        usersLogs = JSON.parse(logs);\n\n        var allLogs = _this2.getAllLogs(usersLogs);\n\n        var listReports = _this2.getReports(allLogs);\n\n        var chartReports = _this2.getDataReports(listReports, allLogs);\n\n        console.log(chartReports);\n        var finishDate = moment(new Date(), 'DD.MM').subtract(1, \"days\");\n        var startDate = moment(new Date(), 'DD.MM').subtract(15, \"days\");\n\n        var defaultChart = _this2.getDefaultChart();\n\n        _this2.setState({\n          chartReports: chartReports,\n          defaultChart: defaultChart,\n          startDate: startDate.format('DD.MM'),\n          finishDate: finishDate.format('DD.MM'),\n          loading: true\n        });\n      }).catch(function (logs) {\n        console.log('error ' + logs);\n      });\n    }\n  }, {\n    key: \"sortHoursChart\",\n    value: function sortHoursChart(userLogs) {\n      var dayData = [];\n      var startHour = moment('00:00', 'HH:mm');\n      var finishHour = moment('01:00', 'HH:mm');\n\n      for (var i = 0; i < 24; i++) {\n        var hourData = {\n          x: startHour.format('HH:mm'),\n          y: 0\n        };\n\n        for (var j = 0; j < userLogs.length; j++) {\n          var visitTime = moment(userLogs[j].time.slice(6, 11), 'HH:mm');\n\n          if (visitTime.isBetween(startHour, finishHour, 'hours', '[)')) {\n            hourData.y++;\n          }\n        }\n\n        dayData.push(hourData);\n        startHour = startHour.add(1, \"hours\");\n        finishHour = finishHour.add(1, \"hours\");\n      }\n\n      return dayData;\n    }\n  }, {\n    key: \"getAllLogs\",\n    value: function getAllLogs(userLogs) {\n      var allLogs = [];\n\n      for (var i = 0; i < userLogs.length; i++) {\n        var logItems = userLogs[i].logItems;\n\n        for (var j = 0; j < logItems.length; j++) {\n          allLogs.push(logItems[j]);\n        }\n      }\n\n      return allLogs;\n    }\n  }, {\n    key: \"getReports\",\n    value: function getReports(allLogs) {\n      var reports = [];\n\n      for (var i = 0; i < allLogs.length; i++) {\n        var presentLog = allLogs[i];\n        var havePresentLog = false;\n\n        for (var j = 0; j < reports.length; j++) {\n          if (presentLog.title === reports[j].name) {\n            havePresentLog = true;\n            reports[j].count++;\n          }\n        }\n\n        if (!havePresentLog) {\n          var addLogItem = {\n            name: presentLog.title,\n            color: COLORS[reports.length % 10],\n            link: presentLog.link,\n            display: true,\n            count: 1\n          };\n          reports.push(addLogItem);\n        }\n      }\n\n      return reports;\n    }\n  }, {\n    key: \"getDataReports\",\n    value: function getDataReports(listReports, allLogs) {\n      for (var i = 0; i < listReports.length; i++) {\n        var presentReport = listReports[i];\n        var currentlyDate = moment(new Date(), 'DD.MM');\n        var startDate = currentlyDate.subtract(14, \"days\");\n        presentReport.monthData = [];\n\n        for (var j = 14; j > 0; j--) {\n          var visitsOnDay = 0;\n\n          for (var z = 0; z < allLogs.length; z++) {\n            if (allLogs[z].date == startDate.format('DD.MM') && allLogs[z].title === presentReport.name) {\n              visitsOnDay++;\n            }\n          }\n\n          var oneDayValue = {\n            x: startDate.format('DD.MM'),\n            y: visitsOnDay\n          };\n          startDate = startDate.add(1, \"days\");\n          presentReport.monthData.push(oneDayValue);\n        }\n      }\n\n      return listReports;\n    }\n  }, {\n    key: \"getDefaultChart\",\n    value: function getDefaultChart() {\n      var currentlyDate = moment(new Date(), 'DD.MM');\n      var startDate = currentlyDate.subtract(15, \"days\");\n      var defaultDays = [];\n\n      for (var i = 15; i > 0; i--) {\n        var oneDay = {\n          x: startDate.format('DD.MM'),\n          y: 0\n        };\n        startDate = startDate.add(1, \"days\");\n        defaultDays.push(oneDay);\n      }\n\n      return defaultDays;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        id: \"maskComponent\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186\n        },\n        __self: this\n      }, !this.state.loading ? React.createElement(Loader, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187\n        },\n        __self: this\n      }) : null, React.createElement(\"div\", {\n        className: \"sidebar\",\n        id: \"sidebar\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188\n        },\n        __self: this\n      }, React.createElement(Navigation, {\n        activeItem: 7718,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"panel\",\n        id: \"panel\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      }, React.createElement(ReportsWorkspace, {\n        chartReports: this.state.chartReports,\n        startDate: this.state.startDate,\n        finishDate: this.state.finishDate,\n        defaultChart: this.state.defaultChart,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return Reports;\n}(React.Component);\n\nexport default Reports;","map":{"version":3,"sources":["/Users/maksimzajcev/Desktop/Work/src/components/React.reports.js"],"names":["React","dataLoad","Navigation","Loader","moment","ReportsWorkspace","COLORS","Reports","props","state","chartReports","startDate","finishDate","loading","settingPeriod","Date","format","loadData","urlLogs","usersLogs","then","logs","JSON","parse","allLogs","getAllLogs","listReports","getReports","getDataReports","console","log","subtract","defaultChart","getDefaultChart","setState","catch","userLogs","dayData","startHour","finishHour","i","hourData","x","y","j","length","visitTime","time","slice","isBetween","push","add","logItems","reports","presentLog","havePresentLog","title","name","count","addLogItem","color","link","display","presentReport","currentlyDate","monthData","visitsOnDay","z","date","oneDayValue","defaultDays","oneDay","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport dataLoad from '../models/dataLoad';\nimport Navigation from './React.nav';\nimport Loader from './React.loader';\nimport moment from 'moment'\nimport ReportsWorkspace from './React.reports.workspace';\nimport '../css/main.css';\n\nconst COLORS = [\n    '#4461c2',\n    '#16a65e',\n    '#85d357',\n    '#ffdc45',\n    '#ff4716',\n    '#6ab4ec',\n    '#b63dbc',\n    '#fdaa19',\n    '#fcacfd',\n    '#8e8cd8'\n];\n\nclass Reports extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            chartReports: [],\n            startDate: '',\n            finishDate: '',\n            loading: false,\n            settingPeriod: moment(new Date()).format('MM.YYYY'),  \n        };\n    }\n\n    componentWillMount() {\n        this.loadData();\n    }\n\n    loadData() {\n        var urlLogs = 'http://localhost:3000/logs';\n\n        var usersLogs;\n\n        dataLoad(urlLogs).then(logs => {\n            usersLogs = JSON.parse(logs);\n            var allLogs = this.getAllLogs(usersLogs);\n            var listReports = this.getReports(allLogs);\n            var chartReports = this.getDataReports(listReports, allLogs);\n            console.log(chartReports);\n            var finishDate = moment(new Date(), 'DD.MM').subtract(1, \"days\");\n            var startDate = moment(new Date(), 'DD.MM').subtract(15, \"days\");\n            var defaultChart = this.getDefaultChart();\n\n            this.setState({\n                chartReports: chartReports,\n                defaultChart: defaultChart,\n                startDate: startDate.format('DD.MM'),\n                finishDate: finishDate.format('DD.MM'),\n                loading: true\n            });\n\n        }).catch(function(logs) {\n            console.log('error ' + logs);\n        })\n    }\n\n    sortHoursChart(userLogs) {\n        var dayData = [];\n\n        var startHour = moment('00:00', 'HH:mm');\n        var finishHour = moment('01:00', 'HH:mm');\n\n        for (let i = 0; i < 24; i++) {\n            var hourData = {\n                x: startHour.format('HH:mm'),\n                y: 0\n            }\n\n            for (let j = 0; j < userLogs.length; j++) {\n                var visitTime = moment(userLogs[j].time.slice(6,11), 'HH:mm');\n                if (visitTime.isBetween(startHour, finishHour, 'hours', '[)')) {\n                    hourData.y++;\n                }\n            }\n\n            dayData.push(hourData);\n            startHour = startHour.add(1, \"hours\");\n            finishHour = finishHour.add(1, \"hours\");\n        }\n\n        return dayData;\n    }\n\n    getAllLogs(userLogs) {\n        var allLogs = [];\n\n        for (let i = 0; i < userLogs.length; i++) {\n            var logItems = userLogs[i].logItems;\n            for (let j = 0; j < logItems.length; j++) {\n                allLogs.push(logItems[j]);\n            }\n        }\n\n        return allLogs;\n    }\n\n    getReports(allLogs) {\n        var reports = [];\n\n        for (let i = 0; i < allLogs.length; i++) {\n            var presentLog = allLogs[i];\n            var havePresentLog = false;\n            for (let j = 0; j < reports.length; j++) {\n                if (presentLog.title === reports[j].name) {\n                    havePresentLog = true;\n                    reports[j].count++;\n                }\n            }\n            if (!havePresentLog) {\n                var addLogItem = {\n                    name: presentLog.title,\n                    color: COLORS[reports.length % 10],\n                    link: presentLog.link,\n                    display: true,\n                    count: 1\n                }\n\n                reports.push(addLogItem);\n            }\n        }\n\n        return reports;\n    }\n\n    getDataReports(listReports, allLogs) {\n\n        for (let i = 0; i < listReports.length; i++) {\n            var presentReport = listReports[i];\n            var currentlyDate = moment(new Date(), 'DD.MM');\n            var startDate = currentlyDate.subtract(14, \"days\");\n\n            presentReport.monthData = [];\n\n            for (let j = 14; j > 0; j--) {\n                var visitsOnDay = 0;\n                for (let z = 0; z < allLogs.length; z++) {\n\n                    if ((allLogs[z].date == startDate.format('DD.MM')) && (allLogs[z].title === presentReport.name)) {\n                        visitsOnDay++;\n                    }\n                }\n\n                var oneDayValue = {\n                    x: startDate.format('DD.MM'),\n                    y: visitsOnDay\n                };\n\n                startDate = startDate.add(1, \"days\");\n                presentReport.monthData.push(oneDayValue);\n            }\n        }\n\n        return listReports;\n    }\n\n    getDefaultChart() {\n        var currentlyDate = moment(new Date(), 'DD.MM');\n        var startDate = currentlyDate.subtract(15, \"days\");\n        var defaultDays = [];\n\n        for (let i = 15; i > 0; i--) {\n\n            var oneDay = {\n                x: startDate.format('DD.MM'),\n                y: 0\n            };\n\n            startDate = startDate.add(1, \"days\");\n            defaultDays.push(oneDay);\n        }\n\n        return defaultDays;\n    }\n\n    render() {\n        return (\n            <div id=\"maskComponent\">\n                {!this.state.loading ? <Loader /> : null}\n                <div className=\"sidebar\" id=\"sidebar\">\n                    <Navigation activeItem={7718} />\n                </div>\n                <div className=\"panel\" id=\"panel\">\n                    <ReportsWorkspace\n                        chartReports={this.state.chartReports}\n                        startDate={this.state.startDate}\n                        finishDate={this.state.finishDate}\n                        defaultChart={this.state.defaultChart}\n                    />\n                </div>                        \n            </div>\n        );\n    }\n}\n\nexport default Reports;\n\n"]},"metadata":{},"sourceType":"module"}